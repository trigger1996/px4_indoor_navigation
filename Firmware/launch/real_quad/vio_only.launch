<launch>
	<!-- vim: set ft=xml noet : -->
	<!-- example launch script for PX4 based FCU's -->

	<arg name="fcu_url" default="/dev/ttyUSB0:500000" />
	<arg name="gcs_url" default="" />
	<arg name="tgt_system" default="1" />
	<arg name="tgt_component" default="1" />
	<arg name="log_output" default="screen" />
	<arg name="fcu_protocol" default="v2.0" />
	<arg name="respawn_mavros" default="false" />

	<include file="$(find px4)/launch/real_quad/module_tests/node.launch">
		<arg name="pluginlists_yaml" value="$(find px4)/launch/real_quad/module_tests/configs/px4_pluginlists.yaml" />
		<arg name="config_yaml" value="$(find px4)/launch/real_quad/module_tests/configs/px4_config.yaml" />

		<arg name="fcu_url" value="$(arg fcu_url)" />
		<arg name="gcs_url" value="$(arg gcs_url)" />
		<arg name="tgt_system" value="$(arg tgt_system)" />
		<arg name="tgt_component" value="$(arg tgt_component)" />
		<arg name="log_output" value="$(arg log_output)" />
		<arg name="fcu_protocol" value="$(arg fcu_protocol)" />
		<arg name="respawn_mavros" default="$(arg respawn_mavros)" />
	</include>


    <!-- Camera Driver -->
    <node name="px4_indoor_cam_driver"
          pkg="px4_indoor"
          type="px4_indoor_cam_driver"
          args=""
          output="screen">
        <param name="is_show_img"       type="bool"    value="false" />
        <param name="is_calculate_fps"  type="bool"    value="false" />
        <param name="resolution_x"      type="int"     value="640" />
        <param name="resolution_y"      type="int"     value="480" />
        <param name="image_left_topic"  type="string"  value="/gi/simulation/left/image_raw" />
        <param name="image_right_topic" type="string"  value="/gi/simulation/right/image_raw" />
    </node>

    <!-- VSLAM -->
    <node name="Real_VSLAM_ros"
          pkg="px4_indoor"
          type="Real_VSLAM_ros"
          args="$(find px4_indoor)/src/ygz_slam_ros/examples/real_stereo.yaml ~/catkin_ws/logs/vslam.log"
          output="screen">
	  <param name="is_logging_info"    type="int" value="0" />
          <param name="is_logging_warning" type="int" value="0" /> 
    </node>

</launch>
